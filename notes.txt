import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

import java.util.HashMap;
import java.util.Map;

@Component
public class ServiceConfig {

    private Map<String, String> serviceMap = new HashMap<>();

    @Value("#{T(java.util.Arrays).stream('${services.map}'.split(','))" +
           ".map(entry -> entry.split(':'))" +
           ".collect(T(java.util.stream.Collectors).toMap(entry -> entry[0], entry -> entry[1]))}")
    public void setServiceMap(Map<String, String> serviceMap) {
        this.serviceMap = serviceMap;
    }

    public Map<String, String> getServiceMap() {
        return serviceMap;
    }
}
